# Netlify Configuration
# Deploy frontend only (backend runs separately on Render)

[build]
  base = "frontend"
  command = "npx expo export --platform web --output-dir dist --public-url /"
  publish = "dist"
  node_version = "18.17.0"

[dev]
  command = "npm start"
  port = 3000

# Redirect API calls to live Render backend
[[redirects]]
  from = "/api/*"
  to = "https://matiks-assignment-intern.onrender.com/:splat"
  status = 200
  force = false

# Single Page App rewrite
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200

# Environment variables
[env.production]
  REACT_APP_API_BASE_URL = "https://matiks-assignment-intern.onrender.com"

[env.development]
  REACT_APP_API_BASE_URL = "http://localhost:8080"
